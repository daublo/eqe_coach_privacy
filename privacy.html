<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EQEase - Datenschutzerklaerung / Privacy Policy</title>
  <meta name="description" content="Datenschutzerklaerung und Privacy Policy der App EQEase.">
  <style>
    :root {
      --bg: #f6f7fb;
      --card: #ffffff;
      --text: #1d2433;
      --muted: #5f6b7a;
      --line: #e1e5ee;
      --accent: #0d6f6b;
      --accent-soft: #e3f3f1;
      --max: 980px;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: linear-gradient(180deg, #f9fafc 0%, var(--bg) 100%);
      color: var(--text);
      line-height: 1.55;
    }

    .wrap {
      width: min(var(--max), 100% - 2rem);
      margin: 2rem auto 4rem;
    }

    .hero {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 18px;
      padding: 1.25rem 1.25rem 1rem;
      box-shadow: 0 10px 30px rgba(17, 24, 39, 0.06);
    }

    h1 {
      margin: 0 0 0.5rem;
      font-size: clamp(1.35rem, 2.2vw, 2rem);
      line-height: 1.2;
    }

    .sub {
      margin: 0;
      color: var(--muted);
      font-size: 0.95rem;
    }

    .switcher {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-top: 1rem;
    }

    .switcher button {
      border: 1px solid var(--line);
      background: #fff;
      color: var(--text);
      border-radius: 999px;
      padding: 0.45rem 0.8rem;
      font-weight: 600;
      cursor: pointer;
    }

    .switcher button[aria-pressed="true"] {
      border-color: var(--accent);
      background: var(--accent-soft);
      color: var(--accent);
    }

    .card {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 18px;
      padding: 1.25rem;
      margin-top: 1rem;
    }

    h2 { margin-top: 1.5rem; font-size: 1.12rem; }
    h3 { margin-top: 1.15rem; font-size: 1rem; }
    p, ul { margin: 0.5rem 0; }
    ul { padding-left: 1.1rem; }
    a { color: var(--accent); }

    .muted { color: var(--muted); }
    .lang { display: none; }
    .lang.active { display: block; }

    .footer {
      margin-top: 1rem;
      font-size: 0.9rem;
      color: var(--muted);
    }
  </style>
</head>
<body>
  <main class="wrap">
    <section class="hero">
      <h1>EQEase - Datenschutzerklaerung / Privacy Policy</h1>
      <p class="sub">Diese Seite entspricht inhaltlich der Datenschutzerklaerung in der App.</p>
      <div class="switcher" role="tablist" aria-label="Language switcher">
        <button type="button" data-lang="de" aria-pressed="true">Deutsch</button>
        <button type="button" data-lang="en" aria-pressed="false">English</button>
        <button type="button" data-lang="fr" aria-pressed="false">Francais</button>
      </div>
    </section>

    <section class="card lang active" data-lang="de">
      <h2>Stand: 22.02.2026</h2>

      <h2>1. Verantwortlicher</h2>
      <p><strong>Louis Daub</strong><br>Muensterstr. 51, 88662 Ueberlingen, Deutschland<br><a href="mailto:daubsystems@gmail.com">daubsystems@gmail.com</a></p>

      <h2>2. Welche Daten wir verarbeiten</h2>
      <h3>2.1 Konto und Identitaet</h3>
      <ul>
        <li>Benutzerkennung (Firebase UID)</li>
        <li>Anmelde-E-Mail (bei E-Mail-Login)</li>
        <li>Anzeigename (Apple/Google, falls bereitgestellt)</li>
        <li>Benutzername</li>
        <li>Pruefungswahl (F, M1-M4)</li>
        <li>Auth-Provider (Apple, Google, E-Mail)</li>
      </ul>

      <h3>2.2 Lernfortschritt und Nutzung</h3>
      <ul>
        <li>Lernfortschritt pro Kapitel/Skill (Stabilitaet, Faelligkeit, Streak, abgeschlossene Levels)</li>
        <li>XP-Werte (gesamt, taeglich, woechentlich) und Verlauf</li>
        <li>Pruefungs-Scores (pro Exam)</li>
        <li>Letzte Aktivitaet</li>
        <li>Fragenbezogene Bearbeitungsdaten (z. B. Frage-ID, Kapitel, richtig/falsch, Zeitpunkt eines Versuchs)</li>
        <li>Status im Fehlerkatalog pro Frage (z. B. rot/gelb) inklusive Aenderungen durch spaetere Wiederholungen</li>
      </ul>

      <h3>2.3 Ladungen und Abos</h3>
      <ul>
        <li>Batterieladungen und Regenerationszeit</li>
        <li>Status des Plus-Abos (aktiv/nicht aktiv)</li>
      </ul>

      <h3>2.4 Freunde und Social-Funktionen</h3>
      <ul>
        <li>Freundesliste und Freundes-Anfragen</li>
        <li>Friend-Code (Hash)</li>
        <li>Benutzername (fuer die Freundes-Suche)</li>
        <li>Statistiken, die fuer Freunde sichtbar sind (z. B. XP)</li>
      </ul>

      <h3>2.5 Feedback</h3>
      <ul>
        <li>Dein Feedback-Text</li>
        <li>Kontext zur Frage (z. B. Item-ID, Fragetext, Sprache)</li>
        <li>App-Version und Build-Nummer</li>
      </ul>

      <h3>2.6 Lokale Einstellungen (nur auf dem Geraet)</h3>
      <ul>
        <li>App-Sprache</li>
        <li>Audio-Einstellungen (Musik/SFX)</li>
        <li>Optionale Diktierfunktion: Spracheingabe zur Texterkennung waehrend der Nutzung; wir speichern keine Audioaufnahmen dauerhaft auf unseren Servern.</li>
      </ul>

      <h3>2.7 Werbung (AdMob / Rewarded Ads)</h3>
      <ul>
        <li>Anzeigeninteraktionen (z. B. ob ein Rewarded-Video gestartet, angesehen oder abgebrochen wurde)</li>
        <li>Geraete- und Verbindungsdaten (z. B. IP-Adresse, ungefaehre Region, Geraetemodell, Betriebssystem, Sprache, App-Version)</li>
        <li>Pseudonyme Geraete-/Werbekennungen (z. B. Ad-ID, soweit verfuegbar) fuer Ausspielung und Messung von Werbung</li>
        <li>Werbe- und Sicherheitssignale fuer Ausspielung, Frequenzsteuerung und Missbrauchsvermeidung</li>
        <li>Technische Diagnosedaten (z. B. Absturz-, Leistungs- und sonstige Diagnosedaten) zur Stabilitaet, Fehlerbehebung und Missbrauchsvermeidung</li>
        <li>Falls ATT-Einwilligung erteilt wird, kann AdMob die Werbe-ID (IDFA) fuer personalisierte Werbung und Messung verwenden.</li>
      </ul>

      <h2>3. Zwecke der Verarbeitung</h2>
      <ul>
        <li>Account erstellen und verwalten</li>
        <li>Lernfortschritt speichern und synchronisieren</li>
        <li>Offene Fehlerfragen kennzeichnen und kapitelbezogene bzw. zufaellige Lernsitzungen aus diesen Fragen bereitstellen</li>
        <li>Freundes-Funktionen bereitstellen</li>
        <li>Kaeufe und Abos aktivieren</li>
        <li>Feedback bearbeiten und Inhalte verbessern</li>
        <li>Rewarded-Werbung im Shop bereitstellen, um die App mitzufinanzieren</li>
      </ul>

      <h2>4. Rechtsgrundlagen (Art. 6 DSGVO)</h2>
      <ul>
        <li><strong>Vertragserfuellung</strong> (Art. 6 Abs. 1 lit. b): Konto, Fortschritt, Kaeufe</li>
        <li><strong>Berechtigtes Interesse</strong> (Art. 6 Abs. 1 lit. f): Sicherheit, Fehleranalyse, Missbrauchsvermeidung, grundlegende nicht personalisierte Werbung</li>
        <li><strong>Einwilligung</strong> (Art. 6 Abs. 1 lit. a): soweit rechtlich erforderlich, insbesondere fuer einwilligungsbeduerftige Werbeverarbeitung (z. B. EWR/UK/CH)</li>
      </ul>

      <h2>5. Empfaenger und Dienstleister</h2>
      <ul>
        <li><strong>Firebase (Google)</strong> fuer Authentifizierung und Datenbank</li>
        <li><strong>Apple</strong> (Sign in with Apple, In-App-Kaeufe)</li>
        <li><strong>Google</strong> (Sign in with Google)</li>
        <li><strong>Google AdMob</strong> fuer Rewarded Ads<br>
          <a href="https://policies.google.com/privacy" target="_blank" rel="noopener noreferrer">Datenschutzerklaerung</a>,
          <a href="https://policies.google.com/technologies/partner-sites" target="_blank" rel="noopener noreferrer">Partner-Sites/Apps</a>
        </li>
      </ul>
      <p>Daten koennen in Drittl√§nder (z. B. USA) uebermittelt werden. In solchen Faellen stuetzen wir uns auf geeignete Garantien wie Standardvertragsklauseln.</p>

      <h2>6. Sichtbarkeit fuer andere Nutzer</h2>
      <ul>
        <li>Benutzername und Friend-Code sind fuer eingeloggte Nutzer sichtbar (Freundes-Suche).</li>
        <li>Bestimmte Statistiken (z. B. XP) sind fuer bestaetigte Freunde sichtbar.</li>
      </ul>

      <h2>7. Speicherdauer</h2>
      <p>Wir speichern Daten grundsaetzlich, solange dein Account aktiv ist. Auf Wunsch loeschen wir deine Daten. Bestimmte Daten (z. B. Feedback) koennen aus Nachweis- oder Qualitaetsgruenden laenger gespeichert werden, jedoch anonymisiert oder mit minimalen Identifikatoren.</p>
      <p>Fragenbezogene Bearbeitungsdaten und Fehlerkatalog-Status werden zur Bereitstellung der Lernfunktionen mit deinem Account verknuepft gespeichert und bei Accountloeschung oder auf Anfrage geloescht.</p>

      <h2>8. Deine Rechte</h2>
      <ul>
        <li>Auskunft</li>
        <li>Berichtigung</li>
        <li>Loeschung</li>
        <li>Einschraenkung der Verarbeitung</li>
        <li>Datenuebertragbarkeit</li>
        <li>Widerspruch gegen die Verarbeitung</li>
        <li>Beschwerde bei einer Aufsichtsbehoerde</li>
      </ul>

      <h2>9. Widerruf von Einwilligungen</h2>
      <p>Falls wir eine Einwilligung einholen, kannst du sie jederzeit mit Wirkung fuer die Zukunft widerrufen (z. B. in der App ueber Einstellungen > Rechtliches > Datenschutzoptionen Werbung).</p>

      <h2>10. Aenderungen</h2>
      <p>Wir koennen diese Datenschutzerklaerung bei Bedarf anpassen. Die aktuelle Version ist in der App und auf dieser Seite abrufbar.</p>
    </section>

    <section class="card lang" data-lang="en">
      <h2>Last updated: 2026-02-22</h2>

      <h2>1. Controller</h2>
      <p><strong>Louis Daub</strong><br>Muensterstr. 51, 88662 Ueberlingen, Germany<br><a href="mailto:daubsystems@gmail.com">daubsystems@gmail.com</a></p>

      <h2>2. Data we process</h2>
      <h3>2.1 Account and identity</h3>
      <ul>
        <li>User identifier (Firebase UID)</li>
        <li>Sign-in email (for email login)</li>
        <li>Display name (Apple/Google, if provided)</li>
        <li>Username</li>
        <li>Exam selection (F, M1-M4)</li>
        <li>Auth provider (Apple, Google, Email)</li>
      </ul>

      <h3>2.2 Learning progress and usage</h3>
      <ul>
        <li>Progress per skill (stability, due dates, streaks, completed levels)</li>
        <li>XP values (total, daily, weekly) and history</li>
        <li>Exam scores (per exam)</li>
        <li>Last active timestamp</li>
        <li>Question-level attempt data (e.g. question ID, chapter, correct/incorrect, attempt timestamp)</li>
        <li>Per-question error catalog status (e.g. red/yellow), including status changes after later retries</li>
      </ul>

      <h3>2.3 Charges and subscriptions</h3>
      <ul>
        <li>Battery charges and regeneration time</li>
        <li>Plus subscription status (active/inactive)</li>
      </ul>

      <h3>2.4 Friends and social features</h3>
      <ul>
        <li>Friend list and friend requests</li>
        <li>Friend code (hash)</li>
        <li>Username (for friend search)</li>
        <li>Stats visible to friends (e.g. XP)</li>
      </ul>

      <h3>2.5 Feedback</h3>
      <ul>
        <li>Your feedback message</li>
        <li>Question context (e.g. item ID, prompt, language)</li>
        <li>App version and build number</li>
      </ul>

      <h3>2.6 Local settings (device only)</h3>
      <ul>
        <li>App language</li>
        <li>Audio settings (music/SFX)</li>
        <li>Optional dictation feature: voice input for speech-to-text while using the app; we do not permanently store audio recordings on our servers.</li>
      </ul>

      <h3>2.7 Advertising (AdMob / rewarded ads)</h3>
      <ul>
        <li>Ad interaction events (e.g. whether a rewarded video was started, viewed, or closed)</li>
        <li>Device and connection data (e.g. IP address, approximate region, device model, operating system, language, app version)</li>
        <li>Pseudonymous device/advertising identifiers (e.g. Ad ID, where available) for ad delivery and measurement</li>
        <li>Advertising and security signals required for delivery, frequency capping, and fraud prevention</li>
        <li>Technical diagnostic data (e.g. crash, performance, and other diagnostic data) for stability, troubleshooting, and abuse prevention</li>
        <li>If ATT permission is granted, AdMob may use the advertising identifier (IDFA) for personalized ads and measurement.</li>
      </ul>

      <h2>3. Purposes</h2>
      <ul>
        <li>Create and manage your account</li>
        <li>Store and sync your learning progress</li>
        <li>Mark open error questions and provide chapter-based or random learning sessions from those questions</li>
        <li>Provide friend features</li>
        <li>Activate purchases and subscriptions</li>
        <li>Review feedback and improve content</li>
        <li>Deliver rewarded ads in the shop to help finance the app</li>
      </ul>

      <h2>4. Legal bases (GDPR Art. 6)</h2>
      <ul>
        <li><strong>Contract performance</strong> (Art. 6(1)(b)): account, progress, purchases</li>
        <li><strong>Legitimate interest</strong> (Art. 6(1)(f)): security, error analysis, abuse prevention, basic non-personalized ad delivery</li>
        <li><strong>Consent</strong> (Art. 6(1)(a)): where legally required, especially for consent-based advertising processing (e.g. EEA/UK/CH)</li>
      </ul>

      <h2>5. Recipients and service providers</h2>
      <ul>
        <li><strong>Firebase (Google)</strong> for authentication and database</li>
        <li><strong>Apple</strong> (Sign in with Apple, in-app purchases)</li>
        <li><strong>Google</strong> (Sign in with Google)</li>
        <li><strong>Google AdMob</strong> for rewarded ads<br>
          <a href="https://policies.google.com/privacy" target="_blank" rel="noopener noreferrer">Privacy Policy</a>,
          <a href="https://policies.google.com/technologies/partner-sites" target="_blank" rel="noopener noreferrer">Partner sites/apps</a>
        </li>
      </ul>
      <p>Data may be transferred to third countries (e.g. the US). In such cases we rely on appropriate safeguards such as Standard Contractual Clauses.</p>

      <h2>6. Visibility to other users</h2>
      <ul>
        <li>Your username and friend code are visible to logged-in users for friend search.</li>
        <li>Certain stats (e.g. XP) are visible to confirmed friends.</li>
      </ul>

      <h2>7. Retention</h2>
      <p>We store data as long as your account is active. You can request deletion. Some data (e.g. feedback) may be retained longer for evidence or quality purposes, but will be anonymized or minimized.</p>
      <p>Question-level attempt data and error catalog status are stored linked to your account to provide learning features and are deleted upon account deletion or upon request.</p>

      <h2>8. Your rights</h2>
      <ul>
        <li>Access</li>
        <li>Rectification</li>
        <li>Deletion</li>
        <li>Restriction of processing</li>
        <li>Data portability</li>
        <li>Object to processing</li>
        <li>Lodge a complaint with a supervisory authority</li>
      </ul>

      <h2>9. Withdrawal of consent</h2>
      <p>If we request consent, you can withdraw it at any time with future effect (e.g. via Settings > Legal > Ad privacy options in the app).</p>

      <h2>10. Changes</h2>
      <p>We may update this policy as needed. The current version is available in the app and on this page.</p>
    </section>

    <section class="card lang" data-lang="fr">
      <h2>Derniere mise a jour : 22/02/2026</h2>

      <h2>1. Responsable du traitement</h2>
      <p><strong>Louis Daub</strong><br>Muensterstr. 51, 88662 Ueberlingen, Allemagne<br><a href="mailto:daubsystems@gmail.com">daubsystems@gmail.com</a></p>

      <h2>2. Donnees que nous traitons</h2>
      <h3>2.1 Compte et identite</h3>
      <ul>
        <li>Identifiant utilisateur (Firebase UID)</li>
        <li>E-mail de connexion (connexion par e-mail)</li>
        <li>Nom d'affichage (Apple/Google, si fourni)</li>
        <li>Nom d'utilisateur</li>
        <li>Examen selectionne (F, M1-M4)</li>
        <li>Fournisseur d'authentification (Apple, Google, E-mail)</li>
      </ul>

      <h3>2.2 Progression et usage</h3>
      <ul>
        <li>Progression par competence (stabilite, echeances, streaks, niveaux termines)</li>
        <li>XP (total, quotidien, hebdomadaire) et historique</li>
        <li>Scores d'examen (par epreuve)</li>
        <li>Date de derniere activite</li>
        <li>Donnees de tentatives au niveau question (p. ex. identifiant de question, chapitre, correct/incorrect, horodatage)</li>
        <li>Statut par question dans le catalogue d'erreurs (p. ex. rouge/jaune), y compris les changements apres des repetitions ulterieures</li>
      </ul>

      <h3>2.3 Charges et abonnements</h3>
      <ul>
        <li>Charges de batterie et temps de regeneration</li>
        <li>Statut de l'abonnement Plus (actif/inactif)</li>
      </ul>

      <h3>2.4 Amis et social</h3>
      <ul>
        <li>Liste d'amis et demandes d'amis</li>
        <li>Code ami (hash)</li>
        <li>Nom d'utilisateur (recherche d'amis)</li>
        <li>Statistiques visibles par les amis (ex. XP)</li>
      </ul>

      <h3>2.5 Feedback</h3>
      <ul>
        <li>Message de feedback</li>
        <li>Contexte de la question (ID, enonce, langue)</li>
        <li>Version et build de l'app</li>
      </ul>

      <h3>2.6 Reglages locaux (sur l'appareil)</h3>
      <ul>
        <li>Langue de l'app</li>
        <li>Reglages audio (musique/SFX)</li>
        <li>Fonction de dictee optionnelle : saisie vocale pour la transcription pendant l'utilisation ; nous ne stockons pas durablement les enregistrements audio sur nos serveurs.</li>
      </ul>

      <h3>2.7 Publicite (AdMob / annonces recompensees)</h3>
      <ul>
        <li>Interactions publicitaires (ex. lancement, visionnage, fermeture d'une video recompensee)</li>
        <li>Donnees appareil/connexion (ex. adresse IP, region approximative, modele d'appareil, OS, langue, version)</li>
        <li>Identifiants pseudonymes d'appareil/publicitaires (ex. Ad ID, lorsque disponible) pour la diffusion et la mesure publicitaire</li>
        <li>Signaux publicitaires et de securite necessaires a la diffusion, au plafonnement et a la prevention de la fraude</li>
        <li>Donnees techniques de diagnostic (ex. crash, performance et autres diagnostics) pour la stabilite, la correction d'erreurs et la prevention des abus</li>
        <li>Si l'autorisation ATT est accordee, AdMob peut utiliser l'identifiant publicitaire (IDFA) pour la personnalisation des annonces et la mesure.</li>
      </ul>

      <h2>3. Finalites</h2>
      <ul>
        <li>Creer et gerer ton compte</li>
        <li>Stocker et synchroniser ta progression</li>
        <li>Marquer les questions en erreur ouvertes et proposer des sessions d'apprentissage par chapitre ou aleatoires a partir de ces questions</li>
        <li>Proposer les fonctions d'amis</li>
        <li>Activer achats et abonnements</li>
        <li>Analyser les feedbacks et ameliorer le contenu</li>
        <li>Diffuser des annonces recompensees dans la boutique pour financer l'app</li>
      </ul>

      <h2>4. Bases legales (RGPD art. 6)</h2>
      <ul>
        <li><strong>Execution du contrat</strong> (art. 6(1)(b)) : compte, progression, achats</li>
        <li><strong>Interet legitime</strong> (art. 6(1)(f)) : securite, analyse d'erreurs, prevention des abus, publicite non personnalisee de base</li>
        <li><strong>Consentement</strong> (art. 6(1)(a)) : lorsque la loi l'exige, notamment pour la publicite soumise au consentement (EEE/UK/CH)</li>
      </ul>

      <h2>5. Destinataires et prestataires</h2>
      <ul>
        <li><strong>Firebase (Google)</strong> pour l'authentification et la base de donnees</li>
        <li><strong>Apple</strong> (Sign in with Apple, achats integres)</li>
        <li><strong>Google</strong> (Sign in with Google)</li>
        <li><strong>Google AdMob</strong> pour les annonces recompensees<br>
          <a href="https://policies.google.com/privacy" target="_blank" rel="noopener noreferrer">Regles de confidentialite</a>,
          <a href="https://policies.google.com/technologies/partner-sites" target="_blank" rel="noopener noreferrer">Sites/apps partenaires</a>
        </li>
      </ul>
      <p>Des transferts vers des pays tiers (ex. Etats-Unis) peuvent avoir lieu. Dans ce cas, nous utilisons des garanties appropriees, notamment les clauses contractuelles types.</p>

      <h2>6. Visibilite pour les autres utilisateurs</h2>
      <ul>
        <li>Ton nom d'utilisateur et ton code ami sont visibles pour les utilisateurs connectes afin de permettre la recherche d'amis.</li>
        <li>Certaines statistiques (ex. XP) sont visibles par les amis confirmes.</li>
      </ul>

      <h2>7. Duree de conservation</h2>
      <p>Nous conservons les donnees tant que ton compte est actif. Tu peux demander la suppression. Certaines donnees (ex. feedback) peuvent etre conservees plus longtemps pour des raisons de preuve ou de qualite, de maniere anonymisee ou minimisee.</p>
      <p>Les donnees de tentatives par question et le statut du catalogue d'erreurs sont conserves avec ton compte pour fournir les fonctionnalites d'apprentissage et sont supprimes lors de la suppression du compte ou sur demande.</p>

      <h2>8. Tes droits</h2>
      <ul>
        <li>Acces</li>
        <li>Rectification</li>
        <li>Suppression</li>
        <li>Limitation du traitement</li>
        <li>Portabilite des donnees</li>
        <li>Opposition au traitement</li>
        <li>Reclamation aupres d'une autorite de controle</li>
      </ul>

      <h2>9. Retrait du consentement</h2>
      <p>Si nous demandons un consentement, tu peux le retirer a tout moment avec effet pour l'avenir (ex. via Reglages > Mentions legales > Options de confidentialite des publicites dans l'app).</p>

      <h2>10. Modifications</h2>
      <p>Nous pouvons mettre a jour cette politique si necessaire. La version actuelle est disponible dans l'app et sur cette page.</p>
    </section>

    <p class="footer">EQEase - Public legal page for AdMob / UMP requirements.</p>
  </main>

  <script>
    (function () {
      const buttons = Array.from(document.querySelectorAll('.switcher button'));
      const sections = Array.from(document.querySelectorAll('.lang'));

      function setLanguage(lang) {
        sections.forEach((section) => {
          section.classList.toggle('active', section.dataset.lang === lang);
        });
        buttons.forEach((button) => {
          button.setAttribute('aria-pressed', String(button.dataset.lang === lang));
        });
        document.documentElement.lang = lang;
        const url = new URL(window.location.href);
        url.searchParams.set('lang', lang);
        window.history.replaceState({}, '', url.toString());
      }

      buttons.forEach((button) => {
        button.addEventListener('click', () => setLanguage(button.dataset.lang));
      });

      const fromQuery = new URLSearchParams(window.location.search).get('lang');
      const browserLang = (navigator.language || 'de').slice(0, 2).toLowerCase();
      const initial = ['de', 'en', 'fr'].includes(fromQuery) ? fromQuery : (['de', 'en', 'fr'].includes(browserLang) ? browserLang : 'de');
      setLanguage(initial);
    })();
  </script>
</body>
</html>
